# frozen_string_literal: true

source 'https://rubygems.org'
# source 'https://production.cf.rubygems.org' # rubygemsが不調の時用

ruby '2.7.2'
# https://github.com/ruby/psych/pull/438 の対応を取り込むため。https://stdgems.org/ の psych が v3.2.0 以上になるタイミングで削除すること
gem 'psych', '~> 3.2.0'

gem 'coffee-rails'
gem 'coffee-script-source', '~> 1.8.0'
gem 'jbuilder', '~> 2.7'
gem 'jquery-rails'
gem 'maxminddb'
gem 'mini_racer'
gem 'rails', '~> 5.2.4'
gem 'sass-rails', '~> 5.1'
gem 'sdoc', group: :doc
gem 'turbolinks', '~> 5.1.0'
gem 'uglifier', '>= 1.3.0'
gem 'xmlrpc'
gem 'nokogiri', '1.10.10'

gem 'aasm'
gem 'active_record-deselect'
gem 'bcrypt-ruby'
gem 'browser'
gem 'enum_help', '~> 0.0.17'
gem 'faraday'
gem 'faraday_middleware'
gem 'fb_graph2'
gem 'font-awesome-rails', '~> 4.7.0.4'
gem 'grape', '~> 1.3.0'
gem 'haml', '5.1.2'
gem 'hamlit'
gem 'hamlit-boolean_attributes'
gem 'hamlit-rails'
gem 'i18n-js'
gem 'jwt'
gem 'kaminari'
gem 'moji'
gem 'mysql2', '0.5.3'
gem 'ngannotate-rails'
gem 'oj'
gem 'ox'
gem 'posix-spawn'
gem 'puma'
gem 'rack-slashenforce'
gem 'rails_autolink'
gem 'ransack'
gem 'retryable', '~> 3'
gem 'sanitize'
gem 'tapp'
gem 'tilt', '~> 2.0.9'
gem 'twitter'
gem 'unicorn'
gem 'unicorn-worker-killer'
gem 'validates_timeliness'
gem 'whenever'
gem 'yard', '>= 0.9.20'
gem 'zeroclipboard-rails'
gem 'zip_code_jp'
gem 'json-schema', '~> 2.8.1'
gem 'batch-loader'

# File Upload
gem 'carrierwave'
gem 'fastimage'
gem 'mimemagic'
gem 'mini_magick'
gem 'ruby-sox' # SOund eXchange
gem 'streamio-ffmpeg'
gem 'unf'
gem 'counter_culture', '~> 1.12.0' # Rails 5.1 Support

# social login
gem 'doorkeeper'
gem 'oauth2'
gem 'omniauth'
gem 'omniauth-oauth2'
gem 'omniauth-facebook'
gem 'omniauth-twitter'

gem 'hiredis'
gem 'redis-namespace'
gem 'redis-rails'

gem 'slim'
gem 'cocoon'

# datadog
gem 'dogstatsd-ruby'

# bbs
gem 'ancestry'

gem 'bower-rails', '~> 0.7.3'

gem 'reserved_for'

gem 'roadie-rails'

gem 'activerecord-import', '~> 0.27.0'

# notify
gem 'slack-notifier'

# for batch

gem 'aws-sdk-athena', '~> 1'
gem 'aws-sdk-cloudfront', '~> 1'
gem 'aws-sdk-cloudsearch', '~> 1'
gem 'aws-sdk-cloudsearchdomain', '~> 1'
gem 'aws-sdk-cloudwatch', '~> 1'
gem 'aws-sdk-core', '~> 3'
gem 'aws-sdk-dynamodb', '~> 1'
gem 'aws-sdk-ec2', '~> 1'
gem 'aws-sdk-glue', '~> 1'
gem 'aws-sdk-personalizeruntime', '~> 1'
gem 'aws-sdk-rekognition', '~> 1'
gem 'aws-sdk-s3', '~> 1'
gem 'aws-sdk-sagemakerruntime', '~> 1'
gem 'aws-sdk-ses', '~> 1'
gem 'aws-sdk-sns', '~> 1'
gem 'aws-sdk-sqs', '~> 1'
gem 'aws-sdk-firehose', '~> 1'

gem 'google_drive', '~> 2'
gem 'kramdown'
gem 'parallel'
gem 'rainbow'

gem 'exception_notification'
gem 'unwind'

gem 'recaptcha', require: 'recaptcha/rails'

# Sitemap
gem 'sitemap_generator'

# Log for ltsv
gem 'logger-ltsv', require: 'logger/ltsv'

# 実体参照文字のdecode
gem 'htmlentities'

gem 'newrelic_rpm'

gem 'active_hash'
gem 'activerecord-refresh_connection'
gem 'holiday_jp', '~> 0.8.0'
gem 'retriable'

# CAVEAT!!
# gon gemを v6.3以上に上げると app/views/prefetch/_note_app.html.haml のjavascriptをrenderする箇所でjsが
# 解釈できない形に変換されjs描画ができず障害になる.
# angularがなくなり、app/views/prefetch/_note_app.html.hamlが必要なくなるまで放置する
# なにかのgemのupdateに引きずられてgonも上がってしまうのを防ぐため6.2.1に固定する
gem 'gon', '6.2.1'

gem 'switch_point'

gem 'autoprefixer-rails'
gem 'rack-rewrite'

gem 'hashie'

# SendGrid
gem 'sendgrid-actionmailer'
gem 'sendgrid-ruby'

gem 'rack-simple_user_agent'

gem 'rack-attack'

gem 'json_world'
gem 'active_model_serializers', '~> 0.10.0'
gem 'request_store'
gem 'wannabe_bool'

gem 'anemone'
gem 'rake', '>= 12.3.3'
# gem 'natto'
gem 'arproxy'
gem 'dotenv-rails'
gem 'fast_blank'
gem 'lograge'
gem 'paper_trail'
gem 'rails-settings-cached'
gem 'referer-parser'
gem 'rubyzip'

gem 'elasticsearch-model'
gem 'elasticsearch-rails'
gem 'ltsv_log_formatter'
gem 'public_suffix'

gem 'googleauth'
gem 'zxcvbn-js', require: 'zxcvbn'

gem 'octokit'

gem 'hubspot-api-client'
gem 'bootsnap', '~> 1.5', require: false

gem 'capistrano'
gem 'capistrano-bundler'
gem 'capistrano-rails'
gem 'capistrano-rbenv'
gem 'capistrano-sidekiq', '~> 0.3.8'
gem 'bcrypt', '~> 3.1.7'
gem 'bcrypt_pbkdf'
gem 'ed25519'
gem 'draper'

gem 'sentry-raven', '2.13.0'

group :development do
  gem 'activerecord-cause'
  gem 'brakeman'
  gem 'better_errors'
  gem 'erb2haml'
  gem 'letter_opener_web'
  gem 'view_source_map'
  gem 'web-console'
end

group :development, :test do
  gem 'annotator'
  gem 'awesome_print'
  gem 'binding_of_caller'
  gem 'bullet'
  gem 'pry-byebug'
  gem 'pry-doc', '~> 1.1.0'
  gem 'pry-rails'
  gem 'pry-remote'
  gem 'pry-remote-auto'
  gem 'rspec-activemodel-mocks'
  gem 'rspec-mocks'
  gem 'rspec-rails', '~> 4.0'
  gem 'timecop'
  gem 'danger', '~> 8.0'
  gem 'danger-rubocop'
  gem 'rubocop'
  gem 'rubocop_challenger'
  gem 'rubocop-performance'
  gem 'rubocop-rails'
  gem 'rubocop-rspec'
  gem 'mock_redis'
  gem 'seed-fu'
end

group :test do
  gem 'committee-rails'
  gem 'database_cleaner', '< 2'
  gem 'elasticsearch-extensions'
  gem 'factory_bot_rails'
  gem 'faker'
  gem 'json_spec'
  gem 'launchy'
  gem 'rack_session_access'
  gem 'rails-controller-testing'
  gem 'rspec_junit_formatter'
  gem 'rspec-retry'
  gem 'shoulda-matchers'
  gem 'vcr'
  gem 'webmock'
end
